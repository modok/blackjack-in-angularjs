angular.module("blackjack.services",[]);angular.module("blackjack.directives",[]);angular.module("blackjack.controllers",[]);angular.module("blackjack",["blackjack.services","blackjack.directives","blackjack.controllers"]);angular.module("blackjack.controllers").controller("boardController",["$scope","dealerService",function(n,t){function i(n){for(var i=0,t=0,r=n.length;t<r;t++)i+=n[t];return i}function r(){n.dealerScore=t.giveCard();n.dealerCards=t.getCards();n.dealerScore<n.score&&n.dealerScore!=0?r():(n.dealerScore>=n.score&&(n.theDealerWon=!0),n.gameIsOver=!0)}function u(){n.score=0;n.isBusted=!1;n.theDealerWon=!1;n.gameIsOver=!1;n.dealerScore=0;n.playerCards=[];n.dealerCards=[];t.newTurn()}n.score=0;n.isBusted=!1;n.theDealerWon=!1;n.gameIsOver=!1;n.gameIsStarted=!1;n.dealerScore=0;n.playerCards=[];n.dealerCards=[];n.start=function(){u();n.score=t.giveCard();n.score=t.giveCard();n.playerCards=t.getCards();n.gameIsStarted=!0};n.getCard=function(){return n.score=t.giveCard(),n.playerCards=t.getCards(),n.score===0&&(n.isBusted=!0,n.pass()),n.score};n.pass=function(){t.newTurn();r()};n.getResultMessage=function(){return n.isBusted?"YOU BUST":n.theDealerWon&&n.score==n.dealerScore?"TIE: YOU LOSE":n.theDealerWon?"YOU LOSE":"YOU WIN"};n.getPlayerScore=function(){return n.score==0?i(n.playerCards):n.score};n.getDealerScore=function(){return n.dealerScore==0?i(n.dealerCards):n.dealerScore};n.start()}]);angular.module("blackjack.directives").directive("card",[function(){return{replace:!0,restrict:"E",scope:{type:"="},templateUrl:"/AppJs/v1.0/app/views/directives/cardDirective.html"}}]);angular.module("blackjack.services").factory("dealerService",[function(){var n=function(){function v(n){return n>0&&n<11}function f(){return t>21||n>21}function y(){return Math.floor(Math.random()*10)+1}function h(){var t,r,u;for(p(),t=0,r=i.length;t<r;t++)u=i[t],n+=a(u);return f()&&l()?c():n}function c(){var e=0,t,s,r;for(u++,n=0,t=0,s=i.length;t<s;t++)r=i[t],o(r)&&e<u?(n+=r,e++):n+=a(r);return f()&&l()?c():n}function l(){return r>0&&u<r}function p(){n=0;s=!1;u=0;r=0}function a(t){return o(t)&&!w(n)?(r++,t=11):o(t)&&(r++,t=1),t}function o(n){return n===1}function w(n){return n+11>21}var e=this,t=0,i=[],r=0,u=0,n=0,s=!1;e.giveCard=function(n){if(typeof n=="undefined")return n=y(),i.push(n),t=h(),f()&&(t=0),t;if(v(n))return i.push(n),t=h(),f()&&(t=0),t;throw new RangeError("");};e.newTurn=function(){return t=0,i=[],n=0,s=!1,t};e.getCards=function(){return i}};return new n}]);
//# sourceMappingURL=blackjack.min.js.map
