angular.module("blackjack.services",[]);angular.module("blackjack.directives",[]);angular.module("blackjack.controllers",[]);angular.module("blackjack.models",[]);angular.module("blackjack",["blackjack.services","blackjack.directives","blackjack.controllers","blackjack.models"]);angular.module("blackjack.controllers").controller("boardController",["$scope","dealerService",function(n,t){function i(n){for(var i=0,t=0,r=n.length;t<r;t++)i+=u(n[t].value)?10:n[t].value;return i}function u(n){return n===11||n===12||n===13}function r(){n.dealerScore=t.giveCard();n.dealerCards=t.getCards();n.dealerScore<n.score&&n.dealerScore!=0?r():(n.dealerScore>=n.score&&(n.theDealerWon=!0),n.gameIsOver=!0)}function f(){n.score=0;n.isBusted=!1;n.theDealerWon=!1;n.gameIsOver=!1;n.dealerScore=0;n.playerCards=[];n.dealerCards=[];t.newTurn()}n.score=0;n.isBusted=!1;n.theDealerWon=!1;n.gameIsOver=!1;n.gameIsStarted=!1;n.dealerScore=0;n.playerCards=[];n.dealerCards=[];n.start=function(){f();n.score=t.giveCard();n.score=t.giveCard();n.playerCards=t.getCards();n.gameIsStarted=!0};n.getCard=function(){return n.score=t.giveCard(),n.playerCards=t.getCards(),n.score===0&&(n.isBusted=!0,n.pass()),n.score};n.pass=function(){t.newTurn();r()};n.getResultMessage=function(){return n.isBusted?"YOU BUST":n.theDealerWon&&n.score==n.dealerScore?"TIE: YOU LOSE":n.theDealerWon?"YOU LOSE":"YOU WIN"};n.getPlayerScore=function(){return n.score==0?i(n.playerCards):n.score};n.getDealerScore=function(){return n.dealerScore==0?i(n.dealerCards):n.dealerScore};n.start()}]);angular.module("blackjack.directives").directive("card",[function(){return{replace:!0,restrict:"E",scope:{value:"=",seed:"="},templateUrl:"/AppJs/v1.0/app/views/directives/cardDirective.html",link:function(n){n.getSeed=function(){return n.seed==1?"clubs":n.seed==2?"diamonds":n.seed==3?"hearts":n.seed==4?"spades":void 0}}}}]);angular.module("blackjack.models").factory("deck",[function(){var n=function(){this.draw=function(n,t){return!!n&&!!t?{value:n,seed:t}:!n?{value:Math.floor(Math.random()*13)+1,seed:Math.floor(Math.random()*4)+1}:{value:n,seed:Math.floor(Math.random()*4)+1}}};return new n}]);angular.module("blackjack.services").factory("dealerService",["deck",function(n){var t=function(){function y(n){return n>0&&n<14}function e(){return i>21||t>21}function c(){var n,i,u;for(p(),n=0,i=r.length;n<i;n++)u=r[n].value,t+=v(u);return e()&&a()?l():t}function l(){var u=0,n,o,i;for(f++,t=0,n=0,o=r.length;n<o;n++)i=r[n].value,s(i)&&u<f?(t+=i,u++):t+=v(i);return e()&&a()?l():t}function a(){return u>0&&f<u}function p(){t=0;h=!1;f=0;u=0}function v(n){return s(n)&&!b(t)?(u++,n=11):s(n)?(u++,n=1):w(n)&&(n=10),n}function w(n){return n===11||n===12||n===13}function s(n){return n===1}function b(n){return n+11>21}var o=this,i=0,r=[],u=0,f=0,t=0,h=!1;o.giveCard=function(t){if(typeof t=="undefined")return t=n.draw(),r.push(t),i=c(),e()&&(i=0),i;if(y(t))return r.push(n.draw(t)),i=c(),e()&&(i=0),i;throw new RangeError("");};o.newTurn=function(){return i=0,r=[],t=0,h=!1,i};o.getCards=function(){return r}};return new t}]);
//# sourceMappingURL=blackjack.min.js.map
